/**
 * Base de données des prix moyens en France (2024)
 * Prix en euros, basés sur les moyennes des supermarchés français
 * Sources : Intermarché, Carrefour, Leclerc, Auchan
 */

export const averagePrices = {
  // Fruits
  'pommes': 2.50,
  'pomme': 2.50,
  'bananes': 1.80,
  'banane': 1.80,
  'oranges': 2.20,
  'orange': 2.20,
  'citrons': 2.80,
  'citron': 2.80,
  'fraises': 3.50,
  'fraise': 3.50,
  'poires': 2.90,
  'poire': 2.90,
  'raisins': 3.20,
  'raisin': 3.20,
  'kiwis': 3.00,
  'kiwi': 3.00,
  'mangue': 2.50,
  'mangues': 2.50,
  'ananas': 2.80,
  'melon': 2.50,
  'pastèque': 4.50,
  'pêches': 3.20,
  'pêche': 3.20,
  'abricots': 3.50,
  'abricot': 3.50,
  'cerises': 5.50,
  'cerise': 5.50,
  'myrtilles': 4.50,
  'myrtille': 4.50,
  'framboises': 4.80,
  'framboise': 4.80,
  'clémentines': 2.50,
  'clémentine': 2.50,
  'mandarines': 2.50,
  'mandarine': 2.50,
  'pamplemousse': 2.20,
  'pamplemousses': 2.20,
  'avocat': 1.50,
  'avocats': 1.50,

  // Légumes
  'tomates': 2.50,
  'tomate': 2.50,
  'carottes': 1.50,
  'carotte': 1.50,
  'salade': 1.20,
  'salades': 1.20,
  'laitue': 1.20,
  'oignons': 1.80,
  'oignon': 1.80,
  'ail': 2.50,
  'poireaux': 2.20,
  'poireau': 2.20,
  'courgettes': 2.30,
  'courgette': 2.30,
  'aubergines': 2.80,
  'aubergine': 2.80,
  'poivrons': 3.20,
  'poivron': 3.20,
  'champignons': 3.50,
  'champignon': 3.50,
  'pommes de terre': 1.50,
  'pomme de terre': 1.50,
  'patates': 1.50,
  'patate': 1.50,
  'haricots verts': 3.50,
  'haricot vert': 3.50,
  'petits pois': 2.80,
  'petit pois': 2.80,
  'brocoli': 2.50,
  'brocolis': 2.50,
  'chou': 2.00,
  'choux': 2.00,
  'chou-fleur': 2.50,
  'épinards': 2.80,
  'épinard': 2.80,
  'concombre': 1.20,
  'concombres': 1.20,
  'céleri': 1.80,
  'navets': 1.80,
  'navet': 1.80,
  'radis': 1.50,
  'betteraves': 2.20,
  'betterave': 2.20,
  'endives': 2.50,
  'endive': 2.50,
  'fenouil': 2.80,
  'artichauts': 3.50,
  'artichaut': 3.50,
  'asperges': 5.50,
  'asperge': 5.50,
  'courge': 2.50,
  'courges': 2.50,
  'potiron': 2.00,
  'butternut': 2.50,
  'maïs': 1.80,
  'échalotes': 2.50,
  'échalote': 2.50,

  // Viandes & Volailles
  'poulet': 7.50,
  'blanc de poulet': 9.50,
  'cuisses de poulet': 6.50,
  'boeuf': 12.00,
  'bœuf': 12.00,
  'steak': 10.00,
  'steaks': 10.00,
  'viande hachée': 8.50,
  'haché': 8.50,
  'porc': 8.00,
  'côtelettes de porc': 7.50,
  'côtelette': 7.50,
  'veau': 14.00,
  'escalope de veau': 15.00,
  'agneau': 13.00,
  'dinde': 8.50,
  'blanc de dinde': 9.00,
  'canard': 12.00,
  'magret de canard': 14.00,
  'lapin': 10.00,

  // Charcuterie
  'jambon': 6.50,
  'jambon blanc': 6.50,
  'jambon cru': 8.50,
  'saucisses': 5.50,
  'saucisse': 5.50,
  'merguez': 6.00,
  'chipolatas': 5.50,
  'chipolata': 5.50,
  'bacon': 4.50,
  'lardons': 3.50,
  'lardon': 3.50,
  'saucisson': 7.00,
  'salami': 7.50,
  'chorizo': 6.50,
  'pâté': 4.50,
  'rillettes': 4.00,

  // Poissons & Fruits de mer
  'saumon': 12.00,
  'filet de saumon': 14.00,
  'thon': 10.00,
  'cabillaud': 11.00,
  'colin': 9.00,
  'dorade': 12.00,
  'daurade': 12.00,
  'bar': 15.00,
  'truite': 8.50,
  'sardines': 6.00,
  'sardine': 6.00,
  'maquereau': 5.50,
  'crevettes': 12.00,
  'crevette': 12.00,
  'gambas': 15.00,
  'moules': 4.50,
  'moule': 4.50,
  'huîtres': 8.00,
  'huître': 8.00,
  'calamar': 10.00,
  'calamars': 10.00,
  'surimi': 3.50,

  // Produits Laitiers & Œufs
  'lait': 1.20,
  'lait demi-écrémé': 1.20,
  'lait entier': 1.30,
  'oeufs': 3.50,
  'oeuf': 3.50,
  'œufs': 3.50,
  'œuf': 3.50,
  'fromage': 5.50,
  'fromages': 5.50,
  'yaourt': 2.50,
  'yaourts': 2.50,
  'yogourt': 2.50,
  'beurre': 2.80,
  'margarine': 2.20,
  'crème fraîche': 2.50,
  'crème liquide': 2.30,
  'camembert': 3.50,
  'emmental': 6.50,
  'comté': 8.50,
  'raclette': 7.00,
  'mozzarella': 3.50,
  'parmesan': 7.50,
  'chèvre': 4.50,
  'roquefort': 8.00,
  'brie': 4.50,
  'gruyère': 7.50,
  'feta': 4.50,
  'ricotta': 3.50,
  'mascarpone': 3.80,
  'fromage blanc': 2.50,
  'petit-suisse': 3.00,
  'petit suisse': 3.00,

  // Boulangerie & Pâtisserie
  'pain': 1.50,
  'baguette': 1.20,
  'baguettes': 1.20,
  'pain de mie': 1.80,
  'pain complet': 2.00,
  'brioche': 2.50,
  'brioches': 2.50,
  'croissant': 1.20,
  'croissants': 1.20,
  'pain au chocolat': 1.30,
  'chocolatine': 1.30,
  'gâteau': 4.50,
  'gâteaux': 4.50,
  'tarte': 5.50,
  'tartes': 5.50,
  'cookies': 3.50,
  'cookie': 3.50,
  'muffin': 2.50,
  'muffins': 2.50,
  'brownie': 3.00,
  'brownies': 3.00,
  'madeleine': 2.80,
  'madeleines': 2.80,

  // Épicerie Salée
  'pâtes': 1.50,
  'pâte': 1.50,
  'spaghetti': 1.50,
  'spaghettis': 1.50,
  'tagliatelles': 1.80,
  'tagliatelle': 1.80,
  'penne': 1.50,
  'fusilli': 1.50,
  'ravioli': 2.50,
  'raviolis': 2.50,
  'lasagnes': 2.80,
  'lasagne': 2.80,
  'coquillettes': 1.50,
  'coquillette': 1.50,
  'riz': 2.00,
  'riz basmati': 2.50,
  'riz complet': 2.30,
  'couscous': 2.00,
  'semoule': 1.80,
  'quinoa': 4.50,
  'lentilles': 2.50,
  'lentille': 2.50,
  'pois chiches': 2.20,
  'pois chiche': 2.20,
  'haricots secs': 2.50,
  'haricot sec': 2.50,
  'sauce tomate': 1.50,
  'coulis de tomate': 1.50,
  'concentré de tomate': 1.20,
  'ketchup': 2.50,
  'mayonnaise': 2.80,
  'moutarde': 1.80,
  'cornichons': 2.50,
  'cornichon': 2.50,
  'olives': 3.50,
  'olive': 3.50,
  'huile': 4.50,
  'huile d\'olive': 6.50,
  'huile de tournesol': 3.50,
  'vinaigre': 2.00,
  'vinaigre balsamique': 3.50,
  'sel': 1.00,
  'poivre': 3.50,
  'cube bouillon': 2.50,
  'bouillon': 2.50,

  // Épicerie Sucrée
  'sucre': 1.50,
  'sucre en poudre': 1.50,
  'sucre glace': 2.00,
  'cassonade': 2.20,
  'miel': 5.50,
  'confiture': 3.50,
  'confitures': 3.50,
  'nutella': 4.50,
  'pâte à tartiner': 4.50,
  'chocolat': 3.50,
  'chocolat noir': 3.50,
  'chocolat au lait': 3.50,
  'cacao': 4.50,
  'biscuits': 2.50,
  'biscuit': 2.50,
  'petit beurre': 2.00,
  'oreo': 3.00,
  'prince': 3.00,
  'céréales': 3.50,
  'céréale': 3.50,
  'corn flakes': 3.00,
  'chocapic': 4.00,
  'muesli': 4.50,
  'granola': 5.00,
  'farine': 1.50,
  'farine de blé': 1.50,
  'levure': 1.80,
  'levure chimique': 1.80,
  'vanille': 3.50,
  'sucre vanillé': 2.00,
  'bonbons': 3.00,
  'bonbon': 3.00,
  'caramels': 2.50,
  'caramel': 2.50,

  // Boissons
  'eau': 0.50,
  'eau plate': 0.50,
  'eau gazeuse': 0.80,
  'perrier': 1.20,
  'evian': 0.80,
  'vittel': 0.80,
  'badoit': 1.00,
  'jus d\'orange': 2.50,
  'jus de pomme': 2.00,
  'jus': 2.50,
  'smoothie': 3.50,
  'coca': 1.80,
  'coca-cola': 1.80,
  'pepsi': 1.80,
  'sprite': 1.80,
  'fanta': 1.80,
  'orangina': 2.00,
  'ice tea': 2.00,
  'thé glacé': 2.00,
  'limonade': 1.50,
  'sirop': 3.50,
  'café': 5.50,
  'café moulu': 5.50,
  'café en grain': 8.00,
  'nespresso': 4.50,
  'thé': 3.50,
  'tisane': 3.50,
  'infusion': 3.50,
  'bière': 1.50,
  'bières': 1.50,
  'vin': 6.00,
  'vin rouge': 6.00,
  'vin blanc': 6.00,
  'champagne': 15.00,
  'cidre': 3.50,

  // Surgelés
  'pizza': 4.50,
  'pizzas': 4.50,
  'pizza surgelée': 4.50,
  'frites': 2.50,
  'frites surgelées': 2.50,
  'glace': 4.50,
  'glaces': 4.50,
  'sorbet': 4.00,
  'sorbets': 4.00,
  'nuggets': 4.50,
  'nugget': 4.50,
  'cordon bleu': 5.50,
  'poisson pané': 5.00,
  'légumes surgelés': 2.50,

  // Hygiène & Beauté
  'dentifrice': 2.50,
  'brosse à dents': 3.50,
  'savon': 1.50,
  'savons': 1.50,
  'gel douche': 3.00,
  'shampoing': 4.50,
  'shampooing': 4.50,
  'après-shampoing': 4.50,
  'déodorant': 3.50,
  'déo': 3.50,
  'crème': 5.50,
  'crème hydratante': 6.50,
  'démaquillant': 5.00,
  'coton': 2.50,
  'coton-tige': 2.00,
  'rasoir': 8.50,
  'mousse à raser': 4.50,
  'gel de rasage': 4.50,

  // Entretien & Maison
  'lessive': 6.50,
  'lessive liquide': 6.50,
  'assouplissant': 4.50,
  'liquide vaisselle': 2.50,
  'produit vaisselle': 2.50,
  'tablette lave-vaisselle': 8.00,
  'éponge': 2.00,
  'éponges': 2.00,
  'papier toilette': 5.50,
  'papier wc': 5.50,
  'essuie-tout': 3.50,
  'sopalin': 3.50,
  'mouchoirs': 2.50,
  'mouchoir': 2.50,
  'sac poubelle': 4.50,
  'sacs poubelle': 4.50,
  'eau de javel': 2.00,
  'javel': 2.00,
  'nettoyant': 3.50,

  // Bébé & Puériculture
  'couches': 25.00,
  'couche': 25.00,
  'lingettes bébé': 3.50,
  'lingette bébé': 3.50,
  'lait bébé': 12.00,
  'lait infantile': 12.00,
  'petits pots': 4.50,
  'petit pot': 4.50,

  // Animalerie
  'croquettes': 15.00,
  'croquette': 15.00,
  'pâtée': 8.00,
  'litière': 8.50,
  'litière chat': 8.50,
};

/**
 * Obtenir le prix moyen d'un article
 * @param {string} itemName - Nom de l'article
 * @returns {number|null} - Prix moyen ou null si non trouvé
 */
export function getAveragePrice(itemName) {
  if (!itemName) return null;
  
  const normalizedName = itemName.toLowerCase().trim();
  
  // Recherche exacte
  if (averagePrices[normalizedName]) {
    return averagePrices[normalizedName];
  }
  
  // Recherche partielle (si le nom contient un mot-clé)
  for (const [key, price] of Object.entries(averagePrices)) {
    if (normalizedName.includes(key) || key.includes(normalizedName)) {
      return price;
    }
  }
  
  return null;
}

/**
 * Obtenir le prix avec une marge d'erreur
 * @param {string} itemName - Nom de l'article
 * @param {number} variance - Pourcentage de variance (par défaut 10%)
 * @returns {object|null} - {min, max, average} ou null
 */
export function getPriceRange(itemName, variance = 0.1) {
  const avgPrice = getAveragePrice(itemName);
  if (!avgPrice) return null;
  
  return {
    min: parseFloat((avgPrice * (1 - variance)).toFixed(2)),
    max: parseFloat((avgPrice * (1 + variance)).toFixed(2)),
    average: avgPrice
  };
}
